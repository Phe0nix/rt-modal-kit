{"version":3,"file":"index.mjs","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/Modal.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","\r\nimport { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.scss\";\r\n\r\ntype ModalSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\r\ntype CloseButtonAlignment = \"right\" | \"center\" | \"left\";\r\ntype ModalRole = \"dialog\" | \"alertdialog\";\r\n\r\nexport interface ModalProps {\r\n  size?: ModalSize;\r\n  open?: boolean;\r\n  close: () => void;\r\n  header?: boolean;\r\n  footer?: boolean;\r\n  headerContent?: React.ReactNode;\r\n  footerContent?: React.ReactNode;\r\n  showCloseButton?: boolean;\r\n  closeButtonAlignment?: CloseButtonAlignment;\r\n  closeButtonFullWidth?: boolean;\r\n  fullScreen?: boolean;\r\n  closeOnBackdropClick?: boolean;\r\n  closeOnEsc?: boolean;\r\n  id?: string;\r\n  contentId?: string;\r\n  backdropId?: string;\r\n  className?: string;\r\n  contentClassName?: string;\r\n  backdropClassName?: string;\r\n  modalStyle?: React.CSSProperties;\r\n  contentStyle?: React.CSSProperties;\r\n  backdropStyle?: React.CSSProperties;\r\n  role?: ModalRole;\r\n  portal?: HTMLElement;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({\r\n  size = \"xs\",\r\n  open = false,\r\n  close,\r\n  header = true,\r\n  footer = true,\r\n  headerContent = \"Modal Header\",\r\n  footerContent = \"Modal Footer\",\r\n  showCloseButton = true,\r\n  closeButtonAlignment = \"right\",\r\n  closeButtonFullWidth = false,\r\n  fullScreen = false,\r\n  closeOnBackdropClick = true,\r\n  closeOnEsc = true,\r\n  id,\r\n  contentId,\r\n  backdropId,\r\n  className = \"\",\r\n  contentClassName = \"\",\r\n  backdropClassName = \"\",\r\n  modalStyle,\r\n  contentStyle,\r\n  backdropStyle,\r\n  role = \"dialog\",\r\n  portal = document.body,\r\n  children,\r\n}) => {\r\n  const isOpen = !!open;\r\n  const backdropRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const modalA11y: React.HTMLAttributes<HTMLDivElement> = {\r\n    \"aria-labelledby\": \"modal_title\",\r\n    \"aria-modal\": \"true\",\r\n  };\r\n\r\n  const modalBodyA11y: React.HTMLAttributes<HTMLDivElement> = {\r\n    \"aria-describedby\": \"modal_description\",\r\n  };\r\n\r\n  const modalFooterA11y: React.HTMLAttributes<HTMLDivElement> = {\r\n    \"aria-labelledby\": \"modal_footer\",\r\n  };\r\n\r\n  // Lock body scroll when open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.classList.add(styles.lockScroll);\r\n    } else {\r\n      document.body.classList.remove(styles.lockScroll);\r\n    }\r\n    return () => {\r\n      // Ensure cleanup in case component unmounts while open\r\n      document.body.classList.remove(styles.lockScroll);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Close on Escape key\r\n  useEffect(() => {\r\n    if (!open || !closeOnEsc) return;\r\n\r\n    const handler = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") close();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handler);\r\n    return () => document.removeEventListener(\"keydown\", handler);\r\n  }, [open, closeOnEsc, close]);\r\n\r\n  // Close on backdrop click\r\n  useEffect(() => {\r\n    if (!open || !closeOnBackdropClick) return;\r\n\r\n    const handler = (e: MouseEvent) => {\r\n      const target = e.target as Node | null;\r\n      if (backdropRef.current && target === backdropRef.current) {\r\n        close();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"click\", handler);\r\n    return () => document.removeEventListener(\"click\", handler);\r\n  }, [open, closeOnBackdropClick, close]);\r\n\r\n  return (\r\n    <>\r\n      {open &&\r\n        createPortal(\r\n          <>\r\n            <div\r\n              className={`${backdropClassName} ${styles.backdrop} ${\r\n                isOpen ? styles.backdrop_open : styles.backdrop_closed\r\n              }`}\r\n              id={backdropId}\r\n              style={{ ...backdropStyle }}\r\n              ref={backdropRef}\r\n            />\r\n\r\n            <div\r\n              className={`${className || \"\"} ${styles.modal} ${\r\n                styles[`modal_${size}`]\r\n              } ${isOpen ? styles.modal_open : styles.modal_closed} ${\r\n                fullScreen ? styles.fullScreenModal : \"\"\r\n              }`}\r\n              id={id}\r\n              style={{ ...modalStyle }}\r\n              {...modalA11y}\r\n              role={role}\r\n            >\r\n              <button\r\n                className={styles.closeBtn}\r\n                onClick={close}\r\n                aria-label=\"Close dialog\"\r\n                type=\"button\"\r\n              >\r\n                âœ•\r\n              </button>\r\n\r\n              {header && (\r\n                <div className={styles.modal_header}>\r\n                  <h2 id=\"modal_title\">{headerContent}</h2>\r\n                </div>\r\n              )}\r\n\r\n              <div\r\n                className={`${contentClassName || \"\"} ${styles.modal_body}`}\r\n                style={{ ...contentStyle }}\r\n                {...modalBodyA11y}\r\n                id={contentId}\r\n              >\r\n                <div id=\"modal_description\">{children}</div>\r\n              </div>\r\n\r\n              {footer && (\r\n                <div className={styles.modal_footer} {...modalFooterA11y}>\r\n                  <h2 id=\"modal_footer\">{footerContent}</h2>\r\n                </div>\r\n              )}\r\n\r\n              {showCloseButton && (\r\n                <div\r\n                  className={`${styles.btn_wrapper} ${\r\n                    closeButtonAlignment\r\n                      ? styles[`btn_${closeButtonAlignment}`]\r\n                      : \"\"\r\n                  } ${closeButtonFullWidth ? styles.btn_full : \"\"}`}\r\n                >\r\n                  <button\r\n                    type=\"button\"\r\n                    className={styles.footerCloseBtn}\r\n                    onClick={close}\r\n                    aria-label=\"Close\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>,\r\n          portal\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Modal","size","open","close","header","footer","headerContent","footerContent","showCloseButton","closeButtonAlignment","closeButtonFullWidth","fullScreen","closeOnBackdropClick","closeOnEsc","id","contentId","backdropId","className","contentClassName","backdropClassName","modalStyle","contentStyle","backdropStyle","role","portal","body","children","isOpen","backdropRef","useRef","useEffect","classList","add","styles","lockScroll","remove","handler","e","key","addEventListener","removeEventListener","target","current","_jsx","createPortal","_jsxs","backdrop","backdrop_open","backdrop_closed","modal","modal_open","modal_closed","fullScreenModal","closeBtn","onClick","modal_header","modal_body","modal_footer","btn_wrapper","btn_full","footerCloseBtn"],"mappings":"kuCAAA,SAAqBA,EAAKC,QACX,IAARA,IAAiBA,EAAM,CAAA,GAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAgC,oBAAbC,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAME,KAAO,WAEI,QAAbN,GACEE,EAAKK,WACPL,EAAKM,aAAaJ,EAAOF,EAAKK,YAKhCL,EAAKO,YAAYL,GAGfA,EAAMM,WACRN,EAAMM,WAAWC,QAAUb,EAE3BM,EAAMK,YAAYR,SAASW,eAAed,GAnBW,CAqBzD,i1JCYA,MAAMe,EAA8B,EAClCC,OAAO,KACPC,QAAO,EACPC,QACAC,UAAS,EACTC,UAAS,EACTC,gBAAgB,eAChBC,gBAAgB,eAChBC,mBAAkB,EAClBC,uBAAuB,QACvBC,wBAAuB,EACvBC,cAAa,EACbC,wBAAuB,EACvBC,cAAa,EACbC,KACAC,YACAC,aACAC,YAAY,GACZC,mBAAmB,GACnBC,oBAAoB,GACpBC,aACAC,eACAC,gBACAC,OAAO,SACPC,SAASpC,SAASqC,KAClBC,eAEA,MAAMC,IAAWzB,EACX0B,EAAcC,EAA8B,MAuDlD,OAvCAC,EAAU,KACJH,EACFvC,SAASqC,KAAKM,UAAUC,IAAIC,EAAOC,YAEnC9C,SAASqC,KAAKM,UAAUI,OAAOF,EAAOC,YAEjC,KAEL9C,SAASqC,KAAKM,UAAUI,OAAOF,EAAOC,cAEvC,CAACP,IAGJG,EAAU,KACR,IAAK5B,IAASW,EAAY,OAE1B,MAAMuB,EAAWC,IACD,WAAVA,EAAEC,KAAkBnC,KAI1B,OADAf,SAASmD,iBAAiB,UAAWH,GAC9B,IAAMhD,SAASoD,oBAAoB,UAAWJ,IACpD,CAAClC,EAAMW,EAAYV,IAGtB2B,EAAU,KACR,IAAK5B,IAASU,EAAsB,OAEpC,MAAMwB,EAAWC,IACf,MAAMI,EAASJ,EAAEI,OACbb,EAAYc,SAAWD,IAAWb,EAAYc,SAChDvC,KAKJ,OADAf,SAASmD,iBAAiB,QAASH,GAC5B,IAAMhD,SAASoD,oBAAoB,QAASJ,IAClD,CAAClC,EAAMU,EAAsBT,IAG9BwC,cACGzC,GACC0C,EACEC,eACEF,EAAA,MAAA,CACE1B,UAAW,GAAGE,KAAqBc,EAAOa,YACxCnB,EAASM,EAAOc,cAAgBd,EAAOe,kBAEzClC,GAAIE,EACJzB,MAAO,IAAK+B,GACZpC,IAAK0C,IAGPiB,EAAA,MAAA,CACE5B,UAAW,GAAGA,GAAa,MAAMgB,EAAOgB,SACtChB,EAAO,SAAShC,QACd0B,EAASM,EAAOiB,WAAajB,EAAOkB,gBACtCxC,EAAasB,EAAOmB,gBAAkB,KAExCtC,GAAIA,EACJvB,MAAO,IAAK6B,GAzEtB,kBAAmB,cACnB,aAAc,OA0EJG,KAAMA,EAAIG,SAAA,CAEViB,YACE1B,UAAWgB,EAAOoB,SAClBC,QAASnD,EAAK,aACH,eACXV,KAAK,SAAQiC,SAAA,MAKdtB,GACCuC,EAAA,MAAA,CAAK1B,UAAWgB,EAAOsB,sBACrBZ,EAAA,KAAA,CAAI7B,GAAG,cAAaY,SAAEpB,MAI1BqC,EAAA,MAAA,CACE1B,UAAW,GAAGC,GAAoB,MAAMe,EAAOuB,aAC/CjE,MAAO,IAAK8B,GAzFxB,mBAAoB,oBA2FRP,GAAIC,EAASW,SAEbiB,EAAA,MAAA,CAAK7B,GAAG,oBAAmBY,SAAEA,MAG9BrB,GACCsC,EAAA,MAAA,CAAK1B,UAAWgB,EAAOwB,aA7FnC,kBAAmB,wBA8FLd,EAAA,KAAA,CAAI7B,GAAG,eAAcY,SAAEnB,MAI1BC,GACCmC,EAAA,MAAA,CACE1B,UAAW,GAAGgB,EAAOyB,eACnBjD,EACIwB,EAAO,OAAOxB,KACd,MACFC,EAAuBuB,EAAO0B,SAAW,cAE7ChB,EAAA,SAAA,CACElD,KAAK,SACLwB,UAAWgB,EAAO2B,eAClBN,QAASnD,EAAK,aACH,mCAQrBqB","x_google_ignoreList":[0]}